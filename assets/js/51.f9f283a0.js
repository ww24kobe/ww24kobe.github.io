(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{247:function(t,s,a){"use strict";a.r(s);var n=a(28),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nodejs入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs入门"}},[t._v("#")]),t._v(" nodejs入门")]),t._v(" "),a("h2",{attrs:{id:"nodejs概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs概述"}},[t._v("#")]),t._v(" nodejs概述")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Node.js 是一个基于 Chrome V8 引擎的 JavaScript "),a("code",[t._v("开发平台")]),t._v("，使得JavaScript成为服务端开发语言得以实现。")])]),t._v(" "),a("li",[a("p",[t._v("何为开发平台？有对应的编程语言、有语言运行Runtime环境、有能实现特定功能的API（SDK：Software Development Kit）。    apache -php、tomcat - java、 nodejs- js")])]),t._v(" "),a("li",[a("p",[t._v("基于 node.js 可以开发桌面应用程序（GUI -借助 node-webkit、electron 等框架实现）、"),a("code",[t._v("Web 应用程序（网站）")]),t._v(" 等。")])])]),t._v(" "),a("p",[t._v("node.js 相关网站")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("node.js官方网站"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://nodejs.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("node.js中文网"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://cnodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("node.js 中文社区"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"node-js-有哪些特点？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js-有哪些特点？"}},[t._v("#")]),t._v(" node.js 有哪些特点？")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("单线程 (JavaScript运行机制)")])]),t._v(" "),a("li",[a("p",[t._v("非阻塞 I/O 模型，当执行异步I/O操作时，不会阻塞。（I/O=input/output） (JavaScript运行机制)")]),t._v(" "),a("p",[t._v("IO:磁盘读写IO,网络IO")])]),t._v(" "),a("li",[a("p",[t._v("拥有世界最大的开源库生态系统 —— npm（Nodejs Package Manager即node包管理器）")])])]),t._v(" "),a("h2",{attrs:{id:"浏览器、nodejs和其他服务器之间的关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器、nodejs和其他服务器之间的关系"}},[t._v("#")]),t._v(" 浏览器、nodejs和其他服务器之间的关系")]),t._v(" "),a("p",[a("img",{attrs:{src:"evernotecid://72B82DA4-1938-457D-9C87-884F6ABF220E/appyinxiangcom/12514222/ENResource/p425",alt:"92923af9598a91bd5f4ccccbe15f29ea.png"}})]),t._v(" "),a("h2",{attrs:{id:"安装nodejs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装nodejs"}},[t._v("#")]),t._v(" 安装nodejs")]),t._v(" "),a("p",[t._v("由于Node.js平台是在后端运行JavaScript代码，所以，必须首先在本机安装Node环境")]),t._v(" "),a("ol",[a("li",[t._v("下载地址")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("当前版本"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://nodejs.org/en/download/releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("历史版本"),a("OutboundLink")],1)])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("官网术语解释")])]),t._v(" "),a("ul",[a("li",[t._v("LTS 版本：Long-term Support 版本，长期支持版，即稳定版。")]),t._v(" "),a("li",[t._v("Current 版本：Latest Features 版本，最新版本，新特性会在该版本中最先加入。")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意：")])]),t._v(" "),a("ul",[a("li",[t._v("安装完毕后通过命令："),a("code",[t._v("node -v")]),t._v("来查看版本确定是否安装成功,安装成功也内置了npm命令，也可通过"),a("code",[t._v("npm -v")]),t._v("查看版本号。")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Microsoft Windows "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("版本 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10.0")]),t._v(".17134.345"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),t._v(" Microsoft Corporation。保留所有权利。\n\nC:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Administrator"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("node -v\nv10.15.0\n\nC:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Administrator"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("npm -v\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.4")]),t._v(".1\n\n")])])]),a("ul",[a("li",[t._v("如需要可以配置环境变量。可以让node和npm命令在任意目录都可使用（注意：安装时默认配置了环境变量）")]),t._v(" "),a("li",[t._v("步骤：我的计算机->右键属性->高级系统设置->高级->环境变量->path")])]),t._v(" "),a("h1",{attrs:{id:"编写nodejs程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编写nodejs程序"}},[t._v("#")]),t._v(" 编写nodejs程序")]),t._v(" "),a("p",[t._v("之前所编写的javascript代码都是在"),a("code",[t._v("浏览器中")]),t._v("运行的，因此可以直接在浏览器的控制器console中编写js代码并运行。")]),t._v(" "),a("p",[t._v("现在我们编写的javascrip代码都是在"),a("code",[t._v("Node环境中")]),t._v("执行，执行方式有两种：")]),t._v(" "),a("ul",[a("li",[t._v("方式一：在window命令行环境中输入指令"),a("code",[t._v("node")]),t._v("并回车，进行"),a("code",[t._v("node的交互式环境")]),t._v(",编写javascript代码执行即可。其中node交互式环境也称之为"),a("code",[t._v("REPL")]),t._v("(Read Eval Print Loop-读取评估打印循环 )，按两次"),a("code",[t._v("ctrl+c")]),t._v(",可退出REPL环境。")])]),t._v(" "),a("p",[t._v("先输入node指令，进入node的交互式环境，在输入js代码。")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("C:\\Users\\Administrator>node\n> 1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("1\n2\n")])])]),a("ul",[a("li",[t._v("方式二：把javascript代码写在后缀为"),a("code",[t._v(".js")]),t._v("的文件中，如有一个hello.js文件，在window命令行中输入"),a("code",[t._v("node hello.js")]),t._v("即可执行。")])]),t._v(" "),a("p",[t._v("如在"),a("code",[t._v("hello.js")]),t._v("中编写以下代码:")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])]),a("p",[t._v("window命令行中执行： "),a("code",[t._v("node hello.js")])]),t._v(" "),a("blockquote",[a("p",[t._v("思考:之前在浏览器中的的window、history、location、document等对象在node环境还支持吗？")])]),t._v(" "),a("p",[t._v("答:"),a("code",[t._v("不支持了")]),t._v("，因为window、history、location等对象是基于浏览器的，而现在我们是基于node环境。")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# node环境中输入会报错")]),t._v("\n> history\nReferenceError: history is not defined\n> window\nReferenceError: window is not defined\n>\n")])])]),a("blockquote",[a("p",[t._v("注：在浏览器环境中全局对象是"),a("code",[t._v("window")]),t._v("，在node环境中全局对象变为"),a("code",[t._v("global")])])]),t._v(" "),a("h1",{attrs:{id:"通过nodejs-读写文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过nodejs-读写文件"}},[t._v("#")]),t._v(" 通过nodejs 读写文件")]),t._v(" "),a("p",[t._v("官方文档："),a("a",{attrs:{href:"http://nodejs.cn/api/fs.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://nodejs.cn/api/fs.html"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("p",[t._v("使用到的文件系统模块"),a("code",[t._v("var fs = require('fs');")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("写文件")]),t._v("："),a("code",[t._v("fs.writeFile(file, data[, options], callback);")])]),t._v(" "),a("ul",[a("li",[t._v("参数1：要写入的文件路径，"),a("strong",[t._v("必填")]),t._v("。")]),t._v(" "),a("li",[t._v("参数2：要写入的数据，"),a("strong",[t._v("必填")]),t._v("。")]),t._v(" "),a("li",[t._v("参数3：写入文件时的选项，比如：文件编码。")]),t._v(" "),a("li",[t._v("参数4：文件写入完毕后的回调函数，"),a("strong",[t._v("必填")]),t._v("。")]),t._v(" "),a("li",[t._v("写文件注意：\n"),a("ul",[a("li",[t._v("该操作采用"),a("code",[t._v("异步")]),t._v("执行")]),t._v(" "),a("li",[t._v("如果文件存在则替换原内容")]),t._v(" "),a("li",[t._v("默认写入的文件编码为utf8")]),t._v(" "),a("li",[t._v("回调函数有1个参数：err，表示在写入文件的操作过程中是否出错了。\n"),a("ul",[a("li",[t._v("如果出错了"),a("code",[t._v("err != null")]),t._v("，成功时 "),a("code",[t._v("err === null")])])])])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("读文件")]),t._v("："),a("code",[t._v("fs.readFile(file[, options], callback)")])]),t._v(" "),a("ul",[a("li",[t._v("参数1：要读取的文件路径，"),a("strong",[t._v("必填")]),t._v("。")]),t._v(" "),a("li",[t._v("参数2：读取文件时的选项，比如：文件编码utf8。选填。")]),t._v(" "),a("li",[t._v("参数3：文件读取完毕后的回调函数，"),a("strong",[t._v("必填")]),t._v("。")]),t._v(" "),a("li",[t._v("读文件注意：\n"),a("ul",[a("li",[t._v("该操作采用"),a("code",[t._v("异步")]),t._v("执行")]),t._v(" "),a("li",[t._v("回调函数有两个参数，分别是err和data")]),t._v(" "),a("li",[t._v("如果读取文件时没有指定编码，那么返回的将是二进制数据，如果指定了编码如utf8，那么会返回指定的编码数据。")]),t._v(" "),a("li",[t._v("只要异步操作，回调函数第一个都是错误对象err优先")])])])])])]),t._v(" "),a("h2",{attrs:{id:"写入数据到文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写入数据到文件"}},[t._v("#")]),t._v(" 写入数据到文件")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导入内置文件模块fs(file System)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" str "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world 你好'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//写入文件（文件不存在则自动创建）")]),t._v("\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("str"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//抛出错误信息")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'写入ok'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("注：writeFile写入文件是先把文件内容清空在写入，如果要追加写入的话可以使用"),a("code",[t._v("appendFile")]),t._v("函数")])]),t._v(" "),a("h2",{attrs:{id:"读取文件数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#读取文件数据"}},[t._v("#")]),t._v(" 读取文件数据")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./data.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//抛出异常信息")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//打印读取到的文件数据 ")]),t._v("\n\tconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"读写文件注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#读写文件注意事项"}},[t._v("#")]),t._v(" 读写文件注意事项")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("异步操作无法通过 try-catch 来捕获异常，只能通过回调函数的 err参数 来判断是否出错。")])]),t._v(" "),a("li",[a("p",[t._v("只有同步操作可以通过 try-catch 来捕获异常。")])]),t._v(" "),a("li",[a("p",[t._v("不要使用 "),a("code",[t._v("fs.existsSync(path, callback)")]),t._v(" 来判断文件是否存在，直接判断 err 即可")])])]),t._v(" "),a("h2",{attrs:{id:"练习内置路径模块path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#练习内置路径模块path"}},[t._v("#")]),t._v(" 练习内置路径模块Path")]),t._v(" "),a("p",[t._v("文档链接："),a("a",{attrs:{href:"http://nodejs.cn/api/path.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://nodejs.cn/api/path.html"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"使用内置模块http搭建web服务器（类似apache）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用内置模块http搭建web服务器（类似apache）"}},[t._v("#")]),t._v(" 使用内置模块http搭建web服务器（类似apache）")]),t._v(" "),a("p",[t._v("文档链接：\n"),a("a",{attrs:{href:"http://nodejs.cn/api/http.html#http_http_createserver_options_requestlistener",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://nodejs.cn/api/http.html#http_http_createserver_options_requestlistener"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("加载http模块")]),t._v(" "),a("li",[t._v("创建http服务，")]),t._v(" "),a("li",[t._v("服务端对象监听request 请求事件，用于监听客户端的请求")]),t._v(" "),a("li",[t._v("启动http服务，监听端口")])]),t._v(" "),a("p",[t._v("参考代码：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 加载http模块")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" http "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 创建http服务，设置监听request 请求事件的处理程序")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" server "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. 服务端对象监听request 请求事件，用于监听客户端的请求")]),t._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//req-请求对象 , res-响应对象")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//处理客户端请求逻辑")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'有人请求了~~'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//必须结束响应，否则浏览器会被挂起")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. 启动http服务，开始监听3000端口")]),t._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'服务已经启动，请访问： http://localhost:3000'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("注意：")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("在监听request事件中，最后一定要"),a("code",[t._v("res.end()")]),t._v("结束响应。")])]),t._v(" "),a("li",[a("p",[t._v("浏览器显示中文可能是乱码，需设置响应头告诉浏览器显示时所使用的编码，要在res.end()之前设置")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("   res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/plain;charset=utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 响应为纯文本")]),t._v("\n   res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-type"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/html;charset=utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//响应为html格式，能够解析html标签")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v('注意：Chrome 浏览器默认无法手动设置编码，需要安装"Set Character Encoding"扩展。')])]),t._v(" "),a("h2",{attrs:{id:"实现不同请求响应不同的静态文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现不同请求响应不同的静态文件"}},[t._v("#")]),t._v(" 实现不同请求响应不同的静态文件")]),t._v(" "),a("h2",{attrs:{id:"nrm（npm下载源管理器）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nrm（npm下载源管理器）"}},[t._v("#")]),t._v(" nrm（npm下载源管理器）")]),t._v(" "),a("p",[t._v("nrm 是一个 NPM 源管理器，允许你快速地在如下 NPM 源间切换：")]),t._v(" "),a("p",[t._v("1、安装")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install -g nrm\n")])])]),a("p",[t._v("2、使用列出可选的源 "),a("code",[t._v("nrm ls")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\n\n  * npm ---- https://registry.npmjs.org/\n  cnpm --- http://r.cnpmjs.org/\n  taobao - https://registry.npm.taobao.org/\n  nj ----- https://registry.nodejitsu.com/\n  npmMirror  https://skimdb.npmjs.com/registry/\n  edunpm - http://registry.enpmjs.org/\n  带 * 的是当前使用的源，上面的输出表明当前源是官方源\n")])])]),a("p",[t._v("3、切换切换到taobao源")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("nrm use taobao \n")])])]),a("p",[t._v("4、测试\n还可以通过 nrm test 测试相应源的响应时间")]),t._v(" "),a("p",[t._v("测试官方源的响应时间：nrm test npm")]),t._v(" "),a("p",[t._v("测试所有源的响应时间：nrm test")])])}),[],!1,null,null,null);s.default=e.exports}}]);